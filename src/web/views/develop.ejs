<head>
    <meta charset="UTF-8">
    <title>Postulaciones - MineFastia</title>
    <link rel="stylesheet" href="/stylesheets/apps-form.css">
    <script src="https://kit.fontawesome.com/0f4ff8e724.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="alert" id="alert">
        Alert
    </div>
    <form id="msform" action="/comunidad/postulacion" method="POST">
        <div class="step step-1 active">
            <div class="form-group">
                <h2 class="fs-title">Formulario de postulacion</h2>
                <hr>
                <br>
                <div class="row mb-4">
                    <div class="col-md-6" style="position: relative;">
                        <img src="https://i.imgur.com/XsMNNjv.png" class="img-rounded" alt="MineFastia Discord"
                            width="650" height="350" style="border-radius: 2px;">
                    </div>
                </div>
                <h3 class="fs-subtitle">Bienvenido/a <strong style="color: #f79dff;">

                    </strong>
                    a la planilla de reclutamiento de <strong style="color: #6f26af;">MineFastia</strong>, a
                    continuacion tendras que rellenar
                    algunos datos para que nosotros podamos evaluar si estas apto para el cargo. No hay un limite
                    de tiempo requerido, tomate tu tiempo y lee bien las preguntas para no tener
                    complicaciones a futuro.</h3>
                <h3 class="fs-subtitle">Cualquier duda con respecto a la postulacion, puedes abrir una solictud
                    mediante un mensaje directo a nuestro bot <strong style="color: #cf95ffe1;">@Sastia</strong> y
                    un asesor te respondera lo
                    antes posible. Sin mas preambulo <strong style="color: #27bd48e1;">¡Mucha suerte, aventurero/a!
                        <i class="fas fa-hand-peace" style="font-size: 15px;"></i></strong>.</h3>
                <button type="button" onclick="window.location.href='/';">Regresar</button>
                <button type="button" class="next-btn">Empezar</button>
            </div>
        </div>
        <div class="step step-2">
            <div class="form-group">
                <h2 class="fs-title"><i class="fas fa-address-card" style="font-size: 15px;"></i> Datos basicos</h2>
                <h3 class="fs-subtitle">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                    exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</h3>
                <hr>
                <br>
                <input id="test" type="text" name="name" placeholder="Ingresa tu nombre">
                <input id="test" type="text" name="years" placeholder="¿Cuantos años tienes?">
                <input type="text" name="region" placeholder="Region">
                <div class="questions">
                    <p style="background: #cccc;">Genero</p>
                    <label>
                        <select name="gender">
                            <option value="test">Hombre</option>
                            <option value="test1" selected>Prefiero no decirlo</option>
                            <option value="test2">Mujer</option>
                        </select>
                    </label>
                </div>
                <button type="button" class="next-btn">Continuar</button>
            </div>
        </div>
        <div class="step step-3">
            <div class="form-group">
                <h2 class="fs-title"><i class="fas fa-address-card" style="font-size: 15px;"></i> Datos basicos</h2>
                <h3 class="fs-subtitle">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod
                    tempor incididunt ut labore e3454334543t dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                    exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</h3>
                <hr>
                <br>
                <input id="test" type="text" name="name" placeholder="Ingresa tu nombre">
                <input id="test" type="text" name="years" placeholder="¿Cuantos años tienes?">
                <input type="text" name="region" placeholder="Region">
                <div class="questions">
                    <p style="background: #cccc;">Genero</p>
                    <label>
                        <select name="gender">
                            <option value="test">Ho435mbre</option>
                            <option value="test1" selected>Prefiero no decirlo</option>
                            <option value="test2">Mujer</option>
                        </select>
                    </label>
                </div>
                <button type="button" class="next-btn">Continuar</button>
            </div>
        </div>
    </form>
</body>
<script>
    window.addEventListener('DOMContentLoaded', function () {
        function changeStep(button) {
            let index = 0

            let active = document.querySelector('.active')
            let steps = Array.from(document.querySelectorAll('form .step'))
            let alert = document.getElementById('alert')

            index = steps.indexOf(active)
            let inputs = steps[index].querySelectorAll('input')

            for (i = 0; i < inputs.length; i++) {
                if (inputs[i].value == '') {
                    inputs[i].style.borderColor = 'red'
                    alert.style.display = 'block'
                    alert.innerHTML = `
                    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                    Aún tienes campos a los cuales rellenar <strong>(${inputs[i].placeholder})</strong>
                    `
                    return
                } else {
                    inputs[i].style.borderColor = 'green'
                }
            }

            steps[index].classList.remove('active')

            if (button == 'next') {
                index++
            } else if (button === 'prev') {
                index--
            }
            alert.style.display = 'none'
            steps[index].classList.add('active')
        }

        document.querySelectorAll('form .next-btn').forEach((button) => {
            button.addEventListener('click', () => {
                changeStep('next')
            })
        })

        document.querySelectorAll('form .previous-btn').forEach((button) => {
            button.addEventListener('click', () => {
                changeStep('prev')
            })
        })

        window.addEventListener('beforeunload', function (event) {
            event.preventDefault()
            event.returnValue = this.alert
        })
    })
</script>

<style>
    .alert {
        width: 780px;
        margin: 50px auto;
        position: relative;
        padding: 10px 10px;
        font-size: 15px;
        text-indent: 5px;
        color: rgb(253, 223, 223);

        background-color: #f87070e1;
        border-radius: 5px;

        border-left: 6px solid rgb(230, 45, 45);
        display: none;
    }

    .closebtn {
        margin-left: 10px;
        color: white;
        font-weight: bold;
        float: right;
        font-size: 22px;
        line-height: 20px;
        cursor: pointer;
        transition: 0.3s;
    }
</style>

</html>